(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{152:function(e,t,a){e.exports=a(284)},157:function(e,t,a){},158:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(11),i=a.n(l),o=(a(157),a(33)),r=(a(158),a(57)),s=a.n(r);r.initializeApp({apiKey:"AIzaSyD6DnGbVfdJlDJ_pEOUfDfTDJrA8j3lIs8",authDomain:"dv-inventory.firebaseapp.com",databaseURL:"https://dv-inventory.firebaseio.com",projectId:"dv-inventory",storageBucket:"dv-inventory.appspot.com",messagingSenderId:"130062240176",appId:"1:130062240176:web:ecbca5d29b37d25c6cee75"});var u,m=r.firestore(),d=a(104);u=null;var v;v=null;function p(e){var t=e.id,a=e.name,n=e.parts,l=e.setSelect,i=e.setSelectedPlace;return c.a.createElement("div",null,c.a.createElement("button",{className:"place",onClick:function(){l(t),function(e){u=e}(t),i(t),function(e){v=e}(n)}},a))}function f(e){e.id;var t=e.placeID,a=e.name,n=e.count;return t===u?c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"itemname"},a),c.a.createElement("div",{className:"itemcount"},n)):null}function b(e){var t=e.places1,a=e.setSelect,n=e.setSelectedPlace;return c.a.createElement("div",null,null===t||void 0===t?void 0:t.map((function(e){if(function(e){if(t&&e){var a,n=Object(d.a)(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;if(c.parts){var l,i=Object(d.a)(c.parts);try{for(i.s();!(l=i.n()).done;){if(l.value===e)return!1}}catch(o){i.e(o)}finally{i.f()}}}}catch(o){n.e(o)}finally{n.f()}return!0}}(e.id)||function(e){if(v){var t,a=Object(d.a)(v);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(console.log(n),e===n)return console.log(e),!0}}catch(c){a.e(c)}finally{a.f()}}}(e.id))return c.a.createElement(p,{key:e.id,name:e.data.name,parts:e.parts,id:e.id,setSelect:a,setSelectedPlace:n})})))}var E=a(286),y=a(290),O=a(37),I=a(287),j=a(285),N=(a(116),I.a.OptGroup),S=I.a.Option,h=c.a.memo((function(e){var t=e.inventory,a=e.selectedPlace,n=e.setSelectedItem;return c.a.createElement(O.c,{initialValues:{itemForRemove:""},onSubmit:function(){},enableReinitialize:!0},(function(){return c.a.createElement(j.a,null,c.a.createElement(I.a,{name:"itemForRemove",className:"select",onChange:n},c.a.createElement(N,{label:"Delete Item",className:"optGroup"},null===t||void 0===t?void 0:t.map((function(e){if(a===e.placeId)return c.a.createElement(S,{className:"option",key:e.id,value:e.id},""===e.data.name?"Unknown Item":e.data.name," - ",e.id)})))))}))})),g=c.a.memo((function(e){var t=e.isVisible,a=e.setIsVisible,l=e.inventory,i=e.selectedPlace,r=e.setInventory,u=Object(n.useState)(""),d=Object(o.a)(u,2),v=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(o.a)(f,2),O=b[0],I=function(e,t){return Object(n.useCallback)((function(a,n){""!==a?(t(!0),s.a.firestore().collection("inventory").doc(a).delete().then((function(){m.collection("inventory").get().then((function(a){var c=a.docs.map((function(e){var t;return{id:e.id,data:e.data(),placeId:null===(t=e.data().place)||void 0===t?void 0:t.id}}));e(c),t(!1),n(!1)}))}))):y.a.error({message:"Oops...",description:"Field must be filled"})}),[e,t])}(r,b[1]);return c.a.createElement(E.a,{title:"Delete Item",visible:t,onOk:function(){I(v,a)},confirmLoading:O,onCancel:function(){a(!1)}},c.a.createElement(h,{inventory:l,selectedPlace:i,setSelectedItem:p}))}));var k=a(291),C=a(288),V=I.a.OptGroup,D=I.a.Option,P=c.a.memo((function(e){var t=e.places,a=e.setCount,n=e.setInventoryName,l=e.setPlaceId,i={count:1,inventoryName:"",placeId:""};return c.a.createElement(O.c,{initialValues:i,onSubmit:function(){},enableReinitialize:!0},(function(){return c.a.createElement(j.a,null,c.a.createElement(k.a,{min:1,max:99,name:"count",defaultValue:i.count,onChange:a}),c.a.createElement(C.a,{name:"inventoryName",placeholder:"Inventory name",defaultValue:i.inventoryName,onBlur:function(e){n(e.target.value)}}),c.a.createElement(I.a,{name:"placeId",className:"select",onChange:l},c.a.createElement(V,{label:"Delete Item",className:"optGroup"},null===t||void 0===t?void 0:t.map((function(e){return c.a.createElement(D,{className:"option",key:e.id,value:e.id},""===e.data.name?"Unknown place":e.data.name)})))))}))})),A=c.a.memo((function(e){var t=e.places,a=e.isVisible,l=e.setIsVisible,i=e.setInventory,r=Object(n.useState)(1),u=Object(o.a)(r,2),d=u[0],v=u[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),b=f[0],O=f[1],I=Object(n.useState)(""),j=Object(o.a)(I,2),N=j[0],S=j[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),k=g[0],C=function(e,t){return Object(n.useCallback)((function(a,n,c,l){a&&n&&c?(t(!0),s.a.firestore().collection("inventory").doc().set({name:n,count:a,place:s.a.firestore().collection("places").doc(c)}).then((function(){m.collection("inventory").get().then((function(a){var n=a.docs.map((function(e){var t;return{id:e.id,data:e.data(),placeId:null===(t=e.data().place)||void 0===t?void 0:t.id}}));e(n),t(!1),l(!1)}))}))):y.a.error({message:"Oops...",description:"Fields must be filled"})}),[e,t])}(i,g[1]);return c.a.createElement(E.a,{title:"Add Item",visible:a,onOk:function(){C(d,b,N,l)},confirmLoading:k,onCancel:function(){l(!1)}},c.a.createElement(P,{places:t,setCount:v,setInventoryName:O,setPlaceId:S}))}));var w=c.a.memo((function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(),r=Object(o.a)(i,2),s=r[0],u=r[1],d=Object(n.useState)(),v=Object(o.a)(d,2),p=(v[0],v[1]),E=Object(n.useState)(""),y=Object(o.a)(E,2),O=y[0],I=y[1],j=Object(n.useState)(!1),N=Object(o.a)(j,2),S=N[0],h=N[1],k=Object(n.useState)(!1),C=Object(o.a)(k,2),V=C[0],D=C[1];return Object(n.useEffect)((function(){m.collection("places").get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,data:e.data(),parts:e.data().parts&&e.data().parts.map((function(e){return null===e||void 0===e?void 0:e.id}))}}));l(t)})),m.collection("inventory").get().then((function(e){var t=e.docs.map((function(e){var t;return{id:e.id,data:e.data(),placeId:null===(t=e.data().place)||void 0===t?void 0:t.id}}));u(t)}))}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"places"},c.a.createElement("div",{className:"placeshead"},"Places"),c.a.createElement(b,{places1:a,setSelect:p,setSelectedPlace:I})),c.a.createElement("div",{className:"items"},c.a.createElement("div",{className:"itemshead"},"Items"),c.a.createElement("div",{className:"itemsproperties"},c.a.createElement("div",{className:"nameproperty"},"NAME"),c.a.createElement("div",{className:"countproperty"},"COUNT")),null===s||void 0===s?void 0:s.map((function(e){return c.a.createElement(f,{placeID:e.placeId,key:e.id,name:e.data.name,count:e.data.count,id:e.id})}))),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"button",onClick:function(){D(!0)}},"Add Item"),c.a.createElement("button",{className:"button",onClick:function(){h(!0)}},"Delete Item")),c.a.createElement(g,{isVisible:S,setIsVisible:h,inventory:s,setInventory:u,selectedPlace:O}),c.a.createElement(A,{isVisible:V,setIsVisible:D,places:a,setInventory:u}))}));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.56c37c8f.chunk.js.map